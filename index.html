<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="UTF-8" />
<title>Aulan näyttö – Tapahtumat • Sää + Varoitukset + Liikenne</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  :root{
    --gap: 16px;
    --panel-pad: 16px;
    --header-h: 64px;
    --accent: #007b83;
    --slide-time-ms: 20000; /* 20 s / näkymä */
  }
  html,body{margin:0;height:100vh;width:100vw;background:#e9eef3;color:#111;font-family:"Segoe UI",Tahoma,Verdana,sans-serif;overflow:hidden}
  #clock{position:fixed;top:10px;right:16px;font-size:1.25rem;font-weight:700;background:rgba(0,0,0,.6);color:#fff;padding:6px 10px;border-radius:8px;z-index:10}

  /* SLIDES */
  .slides{height:100%;width:100%;position:relative}
  .slide{
    position:absolute;inset:0;background:#fff;border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,.15);
    display:grid;grid-template-rows:var(--header-h) 1fr;overflow:hidden;opacity:0;pointer-events:none;transform:scale(.98);
    transition:opacity .4s ease, transform .4s ease;
    margin: var(--gap);
  }
  .slide.active{opacity:1;pointer-events:auto;transform:scale(1)}
  .slide-header{display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.5rem;color:#fff;background:var(--accent)}
  .slide-body{background:#f2f6fa;padding:var(--panel-pad);overflow:auto;-webkit-overflow-scrolling:touch}

  /* ======= TAPAHTUMAT ======= */
  .events .slide-header{background:#007b83}
  .events-list{display:grid;gap:12px}
  .event-card{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.12);padding:12px 14px}
  .event-card:hover{box-shadow:0 4px 12px rgba(0,0,0,.2)}
  .event-date{font-weight:800;color:#fff;border-radius:8px;display:inline-block;padding:5px 10px;margin-bottom:8px}
  .event-title{font-weight:800;font-size:1.2rem;word-break:break-word}
  .event-description{margin-top:6px;color:#333}

  /* ======= SÄÄ + VAROITUKSET + LIIKENNE ======= */
  .wx-alerts .slide-header{background:#334155} /* neutraali tummanharmaa header koko sivulle */
  .wx-grid{
    max-width:1350px;margin:0 auto;display:grid;gap:16px;
    grid-template-columns:1fr;
    grid-template-areas:
      "wx"
      "fc"
      "warn"
      "traffic";
  }
  .panel{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.12);overflow:hidden}
  .panel-h{height:52px;display:flex;align-items:center;gap:10px;font-weight:800;color:#fff;padding:0 12px}
  .panel-b{background:#f2f6fa;padding:12px}

  .p-wx   {grid-area: wx}
  .p-wx .panel-h{background:#334155}   /* sää header neutraali */
  .p-fc   {grid-area: fc}
  .p-fc .panel-h{background:#334155}   /* ennuste header neutraali */
  .p-warn {grid-area: warn}
  .p-warn .panel-h{background:#374151}
  .p-traf {grid-area: traffic}
  .p-traf .panel-h{background:#6d28d9}

  /* Sääkortti */
  .weather-card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto;gap:12px}
  .w-city{font-size:1.2rem;font-weight:900}
  .w-temp{font-size:2.4rem;font-weight:900}
  .w-row{grid-column:1/-1;display:flex;gap:12px;flex-wrap:wrap}
  .w-badge{background:#eef3f8;border-radius:8px;padding:6px 10px}
  .w-icon{font-size:1.8rem;margin-left:8px}
  .muted{opacity:.7}

  /* Ennuste */
  .forecast{display:grid;gap:10px;grid-template-columns:repeat(6,1fr)}
  .fc-item{background:#fff;border-radius:10px;padding:10px;box-shadow:0 1px 6px rgba(0,0,0,.12);text-align:center}
  .fc-time{font-weight:800;margin-bottom:6px}
  .fc-temp{font-size:1.2rem;font-weight:900}
  .fc-sub{font-size:.95rem;color:#333;margin-top:4px}

  /* Varoitukset */
  .warn-list{display:grid;gap:10px;max-height:360px;overflow:auto}
  .warn-item{background:#fff;border-radius:10px;padding:10px 12px;box-shadow:0 2px 8px rgba(0,0,0,.12);display:grid;grid-template-columns:28px 1fr;gap:10px}
  .warn-icon{width:28px;height:28px;border-radius:50%;display:grid;place-items:center;color:#fff;font-weight:900}
  .warn-content{display:grid;gap:4px}
  .w-title{font-weight:800}
  .w-when{font-size:.95rem;opacity:.8}
  .w-desc{font-size:.98rem}
  .lvl-yellow .warn-icon{background:#f2c744;color:#1d1d1f}
  .lvl-orange .warn-icon{background:#ff9800}
  .lvl-red    .warn-icon{background:#e53935}

  /* Liikenne */
  .traffic-list{display:grid;gap:10px;max-height:360px;overflow:auto}
  .traffic-item{background:#fff;border-radius:10px;padding:10px 12px;box-shadow:0 2px 8px rgba(0,0,0,.12)}
  .t-title{font-weight:800;margin-bottom:4px}
  .t-meta{font-size:.95rem;color:#444}
  .t-desc{margin-top:6px;color:#333}

  @media (max-width: 1200px){
    .forecast{grid-template-columns:repeat(3,1fr)}
  }
</style>
</head>
<body>

<div id="clock"></div>

<div class="slides">
  <!-- 1) TAPAHTUMAT -->
  <section class="slide events active" id="slide-events" aria-label="Miehistön Tapahtumat">
    <div class="slide-header">Miehistön Tapahtumat</div>
    <div class="slide-body">
      <div id="miehisto-events" class="events-list">
        <div class="event-card"><div class="event-title">L
